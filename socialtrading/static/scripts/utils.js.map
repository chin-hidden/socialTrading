{"version":3,"sources":["../../../frontend/js/utils.js"],"names":[],"mappings":"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","file":"utils.js","sourcesContent":["export function formatCurrency(amount) {\n    return amount.toLocaleString(\"vi\", {\n        style: \"currency\",\n        currency: \"VND\",\n    });\n}\n\nexport function formatAmount(amount) {\n    return amount.toLocaleString(\"vi\");\n}\n\nexport function formatPercent(amount) {\n    return amount.toLocaleString(\"vi\", {style: \"percent\"});\n}\n\n\n// Copied from Bang gia\nvar MessageUnmashaller = {\n    SEPARATOR: \"|\",\n    map: {\n        STOCK: function(b) {\n            var a = b.split(MessageUnmashaller.SEPARATOR);\n            if (a.length < 40) {\n                console.error(\"StockInfo message structre is change. \")\n            }\n            var itemInfo = {};\n            itemInfo.floorCode = a[0];\n            itemInfo.tradingDate = a[1];\n            itemInfo.time = a[2];\n            itemInfo.code = a[3];\n            itemInfo.companyName = a[4];\n            itemInfo.stockType = a[5];\n            itemInfo.totalRoom = a[6];\n            itemInfo.currentRoom = a[7];\n            itemInfo.basicPrice = a[8];\n            itemInfo.openPrice = a[9];\n            itemInfo.closePrice = a[10];\n            itemInfo.currentPrice = a[11];\n            itemInfo.currentQtty = a[12];\n            itemInfo.highestPrice = a[13];\n            itemInfo.lowestPrice = a[14];\n            itemInfo.ceilingPrice = a[15];\n            itemInfo.floorPrice = a[16];\n            itemInfo.totalOfferQtty = a[17];\n            itemInfo.totalBidQtty = a[18];\n            itemInfo.matchPrice = a[19];\n            itemInfo.matchQtty = a[20];\n            itemInfo.matchValue = a[21];\n            itemInfo.averagePrice = a[22];\n            itemInfo.bidPrice01 = a[23];\n            itemInfo.bidQtty01 = a[24];\n            itemInfo.bidPrice02 = a[25];\n            itemInfo.bidQtty02 = a[26];\n            itemInfo.bidPrice03 = a[27];\n            itemInfo.bidQtty03 = a[28];\n            itemInfo.offerPrice01 = a[29];\n            itemInfo.offerQtty01 = a[30];\n            itemInfo.offerPrice02 = a[31];\n            itemInfo.offerQtty02 = a[32];\n            itemInfo.offerPrice03 = a[33];\n            itemInfo.offerQtty03 = a[34];\n            itemInfo.accumulatedVal = a[35];\n            itemInfo.accumulatedVol = a[36];\n            itemInfo.buyForeignQtty = a[37];\n            itemInfo.sellForeignQtty = a[38];\n            itemInfo.projectOpen = a[39];\n            itemInfo.sequence = a[40];\n            return itemInfo\n        },\n    },\n    regist: function(b, a) {\n        if (typeof a == \"function\") {\n            this.map[b] = a\n        }\n    },\n    unmashall: function(a, b) {\n        if (typeof this.map[a] == \"undefined\") {\n            return b\n        }\n        return this.map[a](b)\n    }\n};\n\n/**\n * Query the VNDIRECT price service.\n */\nexport function getMarketInfo(symbol) {\n    var url = \"http://125.212.207.67/priceservice/secinfo/snapshot/q=codes:\" + symbol;\n\n    return new Promise(function(resolve, reject) {\n        $.getJSON(url, function(data) {\n            resolve(MessageUnmashaller.map.STOCK(data[0]));\n        }, reject);\n    });\n}\n"]}